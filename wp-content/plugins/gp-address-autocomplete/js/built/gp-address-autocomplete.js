(()=>{var t={705:(t,e,n)=>{var o=n(639).Symbol;t.exports=o},932:t=>{t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}},239:(t,e,n)=>{var o=n(705),r=n(607),i=n(333),a=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?r(t):i(t)}},674:t=>{t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},531:(t,e,n)=>{var o=n(705),r=n(932),i=n(469),a=n(448),c=o?o.prototype:void 0,s=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return r(e,t)+"";if(a(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},389:(t,e,n)=>{var o=n(674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});t.exports=o},957:(t,e,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=o},607:(t,e,n)=>{var o=n(705),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,c=o?o.toStringTag:void 0;t.exports=function(t){var e=i.call(t,c),n=t[c];try{t[c]=void 0;var o=!0}catch(t){}var r=a.call(t);return o&&(e?t[c]=n:delete t[c]),r}},333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},639:(t,e,n)=>{var o=n(957),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();t.exports=i},816:(t,e,n)=>{var o=n(389),r=n(833),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=r(t))&&t.replace(i,o).replace(a,"")}},469:t=>{var e=Array.isArray;t.exports=e},5:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},448:(t,e,n)=>{var o=n(239),r=n(5);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},833:(t,e,n)=>{var o=n(531);t.exports=function(t){return null==t?"":o(t)}},274:function(t,e){var n,o;void 0===(o="function"==typeof(n=function(){var t=/(auto|scroll)/,e=function(t,n){return null===t.parentNode?n:e(t.parentNode,n.concat([t]))},n=function(t,e){return getComputedStyle(t,null).getPropertyValue(e)},o=function(e){return t.test(function(t){return n(t,"overflow")+n(t,"overflow-y")+n(t,"overflow-x")}(e))};return function(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var n=e(t.parentNode,[]),r=0;r<n.length;r+=1)if(o(n[r]))return n[r];return document.scrollingElement||document.documentElement}}})?n.apply(e,[]):n)||(t.exports=o)}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(816),e=n.n(t);var o=setTimeout;function r(t){return Boolean(t&&void 0!==t.length)}function i(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var o;try{o=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,o)}else(1===t._state?s:u)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void p((o=n,r=e,function(){o.apply(r,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var o,r}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&a._immediateFn((function(){t._handled||a._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(t){if(n)return;n=!0,u(e,t)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(i);return c(this,new d(t,e,n)),n},a.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},a.all=function(t){return new a((function(e,n){if(!r(t))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var i=o.length;function a(t,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var c=r.then;if("function"==typeof c)return void c.call(r,(function(e){a(t,e)}),n)}o[t]=r,0==--i&&e(o)}catch(t){n(t)}}for(var c=0;c<o.length;c++)a(c,o[c])}))},a.allSettled=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var r=o.length;function i(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(e){i(t,e)}),(function(n){o[t]={status:"rejected",reason:n},0==--r&&e(o)}))}o[t]={status:"fulfilled",value:n},0==--r&&e(o)}for(var a=0;a<o.length;a++)i(a,o[a])}))},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a((function(e){e(t)}))},a.reject=function(t){return new a((function(e,n){n(t)}))},a.race=function(t){return new a((function(e,n){if(!r(t))return n(new TypeError("Promise.race accepts an array"));for(var o=0,i=t.length;o<i;o++)a.resolve(t[o]).then(e,n)}))},a._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){o(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const f=a;var v=n(274),y=n.n(v),h=window.jQuery;Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,o=new Array(n);n--;)o[n]=[e[n],t[e[n]]];return o}),window.gpaaInit=function(){var t=new CustomEvent("gpaa_api_ready");document.dispatchEvent(t),window.gpaaReady=!0},document.addEventListener("gpaa_api_ready",(function(){console.debug("GP Address Autocomplete: Google Maps API ready.")}));var m=function(){function t(n){var o=this;this.queueInit=function(){o.interval=setInterval((function(){return o.init()}),25)},this.initPac=function(){var e;null===(e=o.pacContainer)||void 0===e||e.remove(),o.inputs=o.getInputEls(o.inputSelectors),o.autocomplete&&google.maps.event.clearInstanceListeners(o.autocomplete),o.autocompleteListener&&google.maps.event.removeListener(o.autocompleteListener),o.waitForPacContainer().then((function(){var e;t.multiInstanceLockout=!1,null===(e=o.pacContainer)||void 0===e||e.classList.add("pac-container-gpaa"),o.addFixedPositioner()})),o.autocomplete=new google.maps.places.Autocomplete(o.inputs.autocomplete,o.autocompleteOptions),o.inputs.autocomplete.addEventListener("keydown",(function(t){var e=!1;document.querySelectorAll(".pac-container").forEach((function(t){"none"!==window.getComputedStyle(t).display&&(e=!0)})),"Enter"!==t.code&&13!==t.keyCode||!e||t.preventDefault()})),o.autocompleteListener=o.autocomplete.addListener("place_changed",o.fillFields),window.gform.addAction("gpaa_fields_filled",(function(t,e){e===o&&o.fillCoordinatesMetaInput(t)}))},this.waitForPacContainer=function(){return new f((function(t,e){var n=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){e instanceof HTMLElement&&e.classList.contains("pac-container")&&!e.classList.contains("pac-container-gpaa")&&(o.pacContainer=e,t(e),n.disconnect())}))}))}));setTimeout((function(){e(new Error("GPAA: pac-container not found."))}),1e3),n.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}))},this.addFixedPositioner=function(){var t=y()(o.inputs.autocomplete);if(!h(t).is("html")){h(o.pacContainer).appendTo(t),o.pacContainerStyleObserver&&o.pacContainerStyleObserver.disconnect();var e=!1;o.pacContainerStyleObserver=new MutationObserver((function(t){e||requestAnimationFrame((function(){o.positionPacContainer()}))})),t.addEventListener("scroll",(function(){e=!0,o.positionPacContainer(),e=!1})),document.addEventListener("scroll",(function(){e=!0,o.positionPacContainer(),e=!1})),o.pacContainerStyleObserver.observe(o.pacContainer,{attributes:!0,attributeFilter:["style"]})}},this.positionPacContainer=function(){var t,e,n,r;if(o.pacContainer){var i=o.inputs.autocomplete.getBoundingClientRect();(null===(t=o.pacContainer)||void 0===t?void 0:t.classList.contains("pac-container-gpaa-position-managed"))||null===(e=o.pacContainer)||void 0===e||e.classList.add("pac-container-gpaa-position-managed"),null===(n=o.pacContainerStyleObserver)||void 0===n||n.disconnect(),o.pacContainer.style.top=i.y+i.height+"px",o.pacContainer.style.left=i.x+"px",null===(r=o.pacContainerStyleObserver)||void 0===r||r.observe(o.pacContainer,{attributes:!0,attributeFilter:["style"]})}},this.fillFields=function(){var t,n,r,i,a,c,s,u;if(o.autocomplete){for(var l=o.autocomplete.getPlace(),d=o.parseAdrAddressHTML(l.adr_address),p={address1:d["street-address"],address2:d["extended-address"],postcode:d["postal-code"],city:d.locality,stateProvince:d.region,country:"",autocomplete:void 0},f=0,v=l.address_components;f<v.length;f++){var y=v[f];switch(y.types[0]){case"locality":p.city||(p.city=y.long_name);break;case"administrative_area_level_2":case"administrative_area_level_1":y.short_name===p.stateProvince&&(p.stateProvince=y.long_name,"select"===(null===(t=o.inputs.stateProvince)||void 0===t?void 0:t.tagName.toLowerCase())&&(o.inputs.stateProvince.querySelector('option[value="'.concat(p.stateProvince,'"]'))||(p.stateProvince=e()(p.stateProvince))));break;case"country":var h=window.GP_ADDRESS_AUTOCOMPLETE_CONSTANTS.countries,m=y.short_name,g=y.long_name,_=null==h?void 0:h[y.short_name];o.inputs.country&&(o.inputs.country.querySelector('option[value="'.concat(m,'"]'))?p.country=m:o.inputs.country.querySelector('option[value="'.concat(g,'"]'))?p.country=g:o.inputs.country.querySelector('option[value="'.concat(_,'"]'))&&(p.country=_)),p.country||(p.country=_)}}p=window.gform.applyFilters("gpaa_values",p,l,o,o.formId,o.fieldId),o.inputs.autocomplete&&(o.inputs.autocomplete.value=null!==(n=p.autocomplete)&&void 0!==n?n:"",o.triggerChange(o.inputs.autocomplete)),o.inputs.address1&&(o.inputs.address1.value=null!==(r=p.address1)&&void 0!==r?r:"",o.triggerChange(o.inputs.address1)),o.inputs.address2&&(o.inputs.address2.value=null!==(i=p.address2)&&void 0!==i?i:"",o.triggerChange(o.inputs.address2)),o.inputs.city&&(o.inputs.city.value=null!==(a=p.city)&&void 0!==a?a:"",o.triggerChange(o.inputs.city)),o.inputs.stateProvince&&(o.inputs.stateProvince.value=null!==(c=p.stateProvince)&&void 0!==c?c:"",o.triggerChange(o.inputs.stateProvince)),o.inputs.postalCode&&(o.inputs.postalCode.value=null!==(s=p.postcode)&&void 0!==s?s:"",o.triggerChange(o.inputs.postalCode)),o.inputs.country&&(o.inputs.country.value=null!==(u=p.country)&&void 0!==u?u:"",o.triggerChange(o.inputs.country)),window.gform.doAction("gpaa_fields_filled",l,o,o.formId,o.fieldId)}else console.warn("GP Address Autocomplete: Google API not ready.")},this.formId=n.formId,this.fieldId=n.fieldId,this.inputSelectors=n.inputSelectors,this.inputs=this.getInputEls(this.inputSelectors),this.addressType=n.addressType,window.gpaaReady?this.queueInit():document.addEventListener("gpaa_api_ready",(function(){return o.queueInit()}))}return t.prototype.init=function(){t.multiInstanceLockout||(clearInterval(this.interval),t.multiInstanceLockout=!0,void 0===t.instances["".concat(this.formId,"-").concat(this.fieldId)]?(t.instances["".concat(this.formId,"-").concat(this.fieldId)]=this,this.initPac(),this.bindGPPAListener(),window.gform.doAction("gpaa_init",this,this.formId,this.fieldId)):t.instances["".concat(this.formId,"-").concat(this.fieldId)].initPac())},t.prototype.bindGPPAListener=function(){var t=this;h(document).on("gppa_updated_batch_fields",(function(e,n,o){parseInt(n)===t.formId&&-1!==(o=o.map((function(t){return parseInt(t)}))).indexOf(t.fieldId)&&t.init()}))},t.prototype.getInputEls=function(t){for(var e={},n=0,o=Object.entries(t);n<o.length;n++){var r=o[n],i=r[0],a=r[1];e[i]=document.querySelector(a)}return e},Object.defineProperty(t.prototype,"autocompleteOptions",{get:function(){var t=window.GP_ADDRESS_AUTOCOMPLETE_CONSTANTS.allowed_countries,e={componentRestrictions:void 0,fields:["address_components","formatted_address","geometry","adr_address"],types:["address"]};return"us"===this.addressType?e.componentRestrictions={country:["us"]}:"canadian"===this.addressType?e.componentRestrictions={country:["ca"]}:(null==t?void 0:t.length)&&(e.componentRestrictions={country:t}),window.gform.applyFilters("gpaa_autocomplete_options",e,this,this.formId,this.fieldId)},enumerable:!1,configurable:!0}),t.prototype.fillCoordinatesMetaInput=function(t){var e=document.querySelector("#gform_".concat(this.formId)),n=null==e?void 0:e.querySelector('input[name="gpaa_coords_'.concat(this.fieldId,'"]'));n&&(t.geometry?n.value=JSON.stringify(t.geometry.location):n.value)},t.prototype.triggerChange=function(t){t.dispatchEvent(new Event("change")),h(t).trigger("change")},t.prototype.parseAdrAddressHTML=function(t){for(var e,n={},o=/<(?:span|div) class="(post-office-box|extended-address|street-address|locality|region|postal-code|country-name)">(.*?)<\/(?:span|div)>/gm;null!==(e=o.exec(t));)e.index===o.lastIndex&&o.lastIndex++,n[e[1]]=this.decodeHTMLEntities(e[2]);return n},t.prototype.decodeHTMLEntities=function(t){var e=document.createElement("textarea");e.innerHTML=t;var n=e.value;return e.remove(),n},t.instances={},t.multiInstanceLockout=!1,t}();window.GP_Address_Autocomplete=m})()})();
//# sourceMappingURL=gp-address-autocomplete.js.map